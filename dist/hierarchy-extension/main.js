"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("fs"),t=require("electron"),n=require("path");function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=o(e),s=o(n);const i={async setNodeActive(){const e=Editor.Selection.getSelected("node");if(!(e.length<=0))for(let t of e){const e=await Editor.Message.request("scene","query-node",t);await Editor.Message.request("scene","set-property",{uuid:t,path:"active",dump:{type:"Boolean",value:!e.active.value}})}}};exports.load=function(){!function(){const e=function(){for(const e of t.BrowserWindow.getAllWindows())try{const t=e.webContents.getURL(),n=e.getTitle()||"";if(t.includes("windows/main.html")||n.includes("Cocos Creator"))return e.webContents}catch(e){console.error("获取窗口信息时出错:",e)}return console.warn("未找到Cocos Creator主窗口"),null}();if(!e)return void console.warn("注入失败: webContents 为空");const n=r.default.readFileSync(s.default.join(__dirname,"hierarchy-init.js"),"utf-8");e.executeJavaScript(`(async () => {\n        try {\n            await ${n};\n            const testExtension = ${r.default.readFileSync(s.default.join(__dirname,"test-extension.js"),"utf-8")};\n            await testExtension;\n            return true;\n        } catch (error) {\n            console.error('注入失败:', error);\n            return false;\n        }\n    })()`).catch((e=>console.error("注入失败:",e)))}()},exports.methods=i,exports.unload=function(){};
